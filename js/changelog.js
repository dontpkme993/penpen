/* ═══════════════════════════════════════════
   PENPEN Changelog
   最新版本放在陣列第一筆
   ═══════════════════════════════════════════ */
const CHANGELOG = [{
	version: '0.5.3',
	date: '2026-03-01',
	changes: [
		'選取範圍操作（矩形、橢圓、套索、多邊形、魔術棒、AI 智慧選取、全選、取消選取、反向選取、擴大／內縮選取區）現在全部納入歷史紀錄，Ctrl+Z 可復原選取狀態',
		'修正文字圖層圖示（T）在圖層為細長比例時遭到裁切的問題',
	]
}, {
	version: '0.5.2',
	date: '2026-03-01',
	changes: [
		'修正濾鏡與影像調整對話框拖動預覽拉桿時誤將每次預覽加入歷史紀錄，現在只有按下確定後才產生一筆歷史，Ctrl+Z 可直接回到套用前狀態',
		'修正確認套用濾鏡時若預覽已開啟會導致效果雙重疊加的問題',
		'Service Worker 改為 network-first 策略，有網路時 Ctrl+R 即可載入最新版本，不再需要強制清除快取',
		'Service Worker 版本號改為自動從 changelog.js 讀取，無須手動維護兩處',
	]
}, {
	version: '0.5.1',
	date: '2026-03-01',
	changes: [
		'修正 AI 擴展畫面連續執行時進度條未歸零，並加入防重入鎖避免同時觸發',
		'AI 移除物體與 AI 擴展畫面改為直接使用 CPU（wasm）推論，避免 LaMa FFC 層在 WebGPU 後端不支援導致的失敗訊息',
		'修正各對話框數值輸入可輸入非法值：新建文件、影像大小、畫布大小寬高限制最小為 1，色彩選取器 HSV/Alpha 限制在有效範圍，AI 推理解析度限制在 64–2048',
		'修正 AI 擴展畫面允許輸入負值擴展量，即時修正並於執行時強制歸零',
		'修正 AI 移除物體使用矩形選取時輸出均一灰色的問題：裁切範圍加入 64px 上下文並改從合成畫布取圖，確保 LaMa 有足夠參考像素',
		'修正內縮選取區無效：垂直侵蝕 pass 未先清零遮罩，導致應被移除的選取像素殘留',
		'工具群組展開箭頭點擊範圍擴大至 16×16px 覆蓋按鈕右下角',
		'右鍵選單新增「擴大選取區…」與「內縮選取區…」',
		'修正濾鏡與影像調整對話框拖動預覽拉桿時誤將每次預覽加入歷史紀錄，現在只有按下確定後才產生一筆歷史，Ctrl+Z 可直接回到套用前狀態',
	]
}, {
	version: '0.5',
	date: '2026-03-01',
	changes: [
		'新增 AI 智慧選取工具（SAM）：點擊畫布即自動選取物件輪廓，Shift 點擊加選、Alt 點擊排除區域，結果直接轉為選取範圍，可串接去背、移除物體等工具',
		'預設模型為 Xenova/slimsam-77-uniform，支援自訂 HuggingFace 模型 ID',
		'存 PNG 與匯出時若已有專案名稱（從影像/專案開啟或已儲存），自動以專案名稱作為預設檔名',
		'新建未存檔的專案匯出前綴改為 pp-export-（原為 webpainter-export-）',
		'更換 AI 移除物體工具列圖示為閃光加橡皮擦造型',
		'修正關閉全部分頁後歡迎畫面未滿版（畫布捲動殘留導致定位偏移）',
		'新增 AI 擴展畫面工具（Outpainting）：指定上下左右擴展像素，AI 自動填入新區域，結果插入為底層並保留所有現有圖層',
		'AI 移除物體與 AI 擴展畫面改為直接以 CPU（wasm）推論，避免 LaMa 模型 FFC 層在 WebGPU 後端不支援導致的失敗訊息',
	]
}, {
	version: '0.4.2',
	date: '2026-02-27',
	changes: [
		'AI 去背改為兩段式流程：推論完成後建立「去背遮罩」圖層供使用者以筆刷微調，確認後再套用至原圖層',
		'AI 去背遮罩編輯：筆刷固定塗白（保留）、橡皮擦改為塗黑（移除），行為不受前景色影響',
		'AI 三個子視窗（去背、移除物體、放大）標題列支援拖曳移動位置',
		'修正 AI 去背第二次執行卡住的問題（確認或取消後按鈕 disabled 狀態未重置）',
		'修正 AI 移除物體工具座標對齊錯誤：改以選取區邊界框裁切影像後再送入模型，並正確將結果貼回圖層對應位置',
		'修正 Delete 鍵在無選取範圍且圖層面板無焦點時改為無作用',
		'修正 zoom in 後關閉專案返回歡迎畫面時畫布殘留在可捲動區域外',
		'畫布區右鍵改為自訂編輯功能表（剪下、複製、貼上、全選、取消選取、反向選取）',
	]
}, {
	version: '0.4.1',
	date: '2026-02-27',
	changes: [
		'Delete 鍵改為清除為透明（原為填滿背景色）',
		'圖層面板有焦點時按下 Delete 改為刪除圖層',
		'移除「匯出 PNG Ctrl+S」選單項目，Ctrl+S 統一對應儲存專案 (.pp)',
		'修正匯出對話框預覽與圖層縮圖比例：不再填補透明邊距，改為依影像實際寬高比縮放顯示',
		'修正筆刷／橡皮擦實際繪製尺寸只有預覽圓圈一半的問題（滑鼠 e.pressure 為 0.5 導致）',
	]
}, {
	version: '0.4',
	date: '2026-02-26',
	changes: [
		'新增 AI 放大工具（4× APISR GRL GAN / 2× Swin2SR），支援 WebGPU 加速',
		'新增專案分頁切換：開新文件或開啟檔案皆建立獨立分頁',
		'切換分頁自動保存並還原圖層、歷史記錄、縮放、選取範圍與顏色',
		'重複開啟相同檔案時提示並自動切換至已開啟分頁',
		'尺規與格線預設為隱藏，選單項目加入勾勾顯示開關狀態',
		'修正 AI 推理期間進度條凍結（改用 WebGPU/WebGL 後端 + 動態進度條）',
		'修正工具列群組箭頭點擊範圍過小問題',
		'新增「編輯」選單擴大選取區與內縮選取區功能，可設定像素並即時預覽',
		'新增從系統剪貼簿貼上圖片：Ctrl+V 可直接將截圖等外部圖片貼入為新圖層',
		'複製／剪下同步寫入系統剪貼簿，貼上優先順序改由使用者操作決定',
		'修正貼上、置入影像建立的新圖層位置：改為插入在當前圖層之上（原為之下導致被遮蓋）',
		'修正畫布與圖層尺寸不同時，選取區剪下／複製／填滿位置偏移問題',
		'修正「檢視」選單尺規與格線快捷鍵提示未靠右對齊',
		'裁切工具操作列新增「自動裁切」按鈕，依所有可見圖層內容自動偵測邊界並裁切',
	]
}, {
	version: '0.3',
	date: '2026-02-23',
	changes: [
		'新增 AI 去背工具（briaai/RMBG-1.4）：可調整閾值、邊緣羽化、邊緣縮放',
		'新增 AI 移除物體工具（Carve/LaMa-ONNX）：選取後執行，可調整遮罩擴張與邊緣融合',
		'AI 工具群組：去背與移除物體整合至工具列同一群組',
		'AI 工具支援自訂 HuggingFace 模型 ID 與前處理 Config',
		'新增仿製印章工具，支援硬度、圓形／方形筆刷，Alt+點擊設定來源點',
		'移動工具圖示更新為四向箭頭',
		'修正旋轉工具控制點左右移動方向錯誤',
	]
}, {
	version: '0.2',
	date: '2026-02-22',
	changes: [
		'新增多工具群組：套索、多邊形選取、魔術棒',
		'新增變形工具群組：自由變形、縮放、旋轉',
		'新增漸層工具與漸層編輯器',
		'新增畫布尺寸調整對話框',
		'新增格線與尺規顯示切換',
		'新增專案儲存與開啟（.pp 格式）',
		'面板切換整合至「檢視」功能表',
		'歡迎畫面顯示版本號',
	]
}, {
	version: '0.1',
	date: '2026-02-21',
	changes: [
		'初始版本發布',
		'支援多圖層編輯（新增、刪除、複製、合併、群組）',
		'筆刷、鉛筆、橡皮擦、油漆桶工具',
		'矩形選取、橢圓選取工具',
		'圖像調整：亮度/對比度、色相/飽和度、色階、曲線、色彩平衡、負片、去色、臨界值',
		'濾鏡：高斯模糊、移動模糊、放射模糊、方塊模糊、銳利化、雜訊、像素化、浮雕、暗角、海報化、故障藝術',
		'文字工具（字型、大小、粗體、斜體、底線、對齊）',
		'PNG、JPEG、WebP 匯出',
	]
}];